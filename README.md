Документация на сайта: Управление на данни за окръзи
Общ преглед:
Този сайт е проектиран да управлява и показва данни на ниво окръзи, по-конкретно популации за окръзите в различни американски щати. Приложението извлича данни от външен API, позволява на потребителите да съхраняват и актуализират тези данни в база данни MongoDB и ги показва на уеб интерфейс с възможност за допълнително филтриране. Проектът използва Express за бекенд, MongoDB за съхранение на данните и чист JavaScript за фронтенд частта.

Съдържание
1.	Технологичен стек
2.	Структура на проекта
3.	Модел на базата данни
4.	API Ендпоинти
5.	Преглед на фронтенда
6.	Как да използвате приложението
7.	Ръководство за инсталация
8.	Възможни подобрения
Технологичен стек
•  Бекенд: Node.js, Express.js
•  Фронтенд: HTML, CSS, JavaScript
•  База данни: MongoDB с Mongoose ODM
•  API: Извличане на данни от ArcGIS REST API
•  Други: Axios за HTTP заявки

Структура на проекта

project-root
├── /public                  # Публични статични файлове (HTML, CSS, JS)
│   └── index.html           # Основната HTML страница
├── /models                  # Модели за базата данни
│   └── county.js            # Mongoose модел за окръзите
├── /routes                  # Маршрути за API
│   └── countyRoutes.js      # API маршрути за управление на данни
├── server.js                # Главният файл за сървъра на Express
├── package.json             # Описание на проекта и зависимостите
└── README.md                # Документация на проекта


Модел на базата данни

 const mongoose = require('mongoose');

const countySchema = new mongoose.Schema({
    population: { type: Number, required: true },
    state_name: { type: String, required: true }
});

const County = mongoose.model('County', countySchema);
module.exports = County;

•  population: Населението на окръза (задължително поле).
•  state_name: Името на щата (задължително поле).

API Ендпоинти
1.	GET /api/counties
•  Описание: Връща всички окръзи, съхранени в базата данни.

2.	GET /api/counties/fetch-and-store
•	Описание: Извлича данни от ArcGIS API и ги съхранява в MongoDB.
•	Резултат: Изтрива всички стари записи и добавя нови.
3.	GET /api/counties/fetch-and-upsert
•	Описание: Извлича данни от API и ги добавя или актуализира съществуващите записи.
•	Резултат: Актуализира съществуващи окръзи или добавя нови, ако няма записи.

Преглед на фронтенда
index.html
Това е основната страница, която предоставя интерфейс за взаимодействие с данните. Потребителите могат да зареждат, филтрират, съхраняват и актуализират данни.
Основни бутони:
•	Load Data: Зарежда всички данни за окръзите от базата данни и ги показва в таблица.
•	Fetch and Store Online Data: Извлича данни от външния API и ги съхранява в базата данни, изтривайки всички съществуващи записи.
•	Fetch and Upsert Data: Извлича данни от API и актуализира съществуващите записи или добавя нови, ако няма такива.
•	Fillter бутон: филтрира записите по даден критерии (име)
Как да използвате приложението
1.	Съхраняване на данни от API:
o	Натиснете бутона „Fetch and Store Online Data“, за да извлечете нови данни и да ги съхраните в базата данни.
2.	Зареждане на данни:
o	Натиснете бутона „Load Data“, за да заредите всички налични окръзи от базата данни.
3.	Актуализиране на данни:
o	Натиснете бутона „Fetch and Upsert Data“, за да актуализирате или добавите нови данни от API.
4.	Филтриране по име на щат:
o	Въведете име на щат в полето „Filter by State Name“ и натиснете „Filter“, за да филтрирате таблицата с данни.


Ръководство за инсталация
1.	Инсталиране на зависимостите:
npm install
2.	Настройване на MongoDB: Уверете се, че MongoDB е инсталиран и работи локално на mongodb://localhost:27017/demographicData.
3.	Стартиране на сървъра:
npm start
4.	Отваряне на сайта: Отидете на http://localhost:3000 в браузъра.


Възможни подобрения
1.	Добавяне на потребителска автентикация: За ограничаване на достъпа до определени функции (например актуализиране на данни).
2.	Оптимизация на базата данни: Използване на индекси за подобряване на производителността при заявки за големи обеми данни.
3.	Графични визуализации: Включване на диаграми и графики за визуализиране на населението по окръзи.

	


